# 8차 성능 테스트 분석 보고서

## 🔍 주요 개선사항

---

### 1. JSON 직렬화/역직렬화 최적화

- API 응답용 DTO와 캐시용 DTO 분리
- 불필요한 데이터 직렬화 방지
- Jackson 어노테이션 활용 최적화

### 2. 쓰레드 풀 세분화 및 최적화

- 로그인 전용 쓰레드 풀 도입 (4 threads)
- 일반 API 쓰레드 풀 최적화 (50 threads)
- 커넥션 풀 최적화 (50 connections)

### 3. 게시글/댓글 API 쿼리 최적화

- JPQL에서 DTO 직접 조회 방식 도입
- 서브쿼리를 활용한 카운트 처리
- 조인 최적화 및 선택적 데이터 조회

## 📊 성능 비교 분석

---

### API 성능 지표

| API | 7차 테스트 |  | 8차 테스트 |  | 개선율 |  |
| --- | --- | --- | --- | --- | --- | --- |
|  | Avg(ms) | TPS | Avg(ms) | TPS | Avg | TPS |
| 로그인 | 3,061 | 28.31 | 1,509 | 27.20 | 50.7%⬇️ | 4.0%⬇️ |
| 인기 게시글 목록 | 122 | 28.37 | 136 | 27.26 | 11.5%⬆️ | 3.9%⬇️ |
| 인기 게시글 조회 | 627 | 28.47 | 182 | 27.39 | 71.0%⬇️ | 3.8%⬇️ |
| 인기게시글 댓글 페이징 조회 | 246 | 28.49 | 208 | 27.42 | 15.4%⬇️ | 3.8%⬇️ |
| 인기게시글 대댓글 전부 조회 | 515 | 28.55 | 334 | 27.44 | 35.1%⬇️ | 3.9%⬇️ |
| 포스트 좋아요 | 260 | 14.29 | 205 | 13.74 | 21.2%⬇️ | 3.8%⬇️ |
| 루트 댓글 작성 | 255 | 4.28 | 168 | 4.12 | 34.1%⬇️ | 3.7%⬇️ |
| 포스트 좋아요 취소 | 455 | 7.15 | 310 | 6.88 | 31.9%⬇️ | 3.8%⬇️ |
| 대댓글 | 520 | 2.57 | 317 | 2.49 | 39.0%⬇️ | 3.1%⬇️ |

## 📈 시스템 리소스 현황

---

### Application Server

| 지표 | 7차 테스트 | 8차 테스트 | 상태 |
| --- | --- | --- | --- |
| CPU | ~200% | ~200% | ➖ 유지 |
| Memory | 1.3GB | 1.3GB | ➖ 유지 |
| Network | ~350MB | ~350MB | ➖ 유지 |

### Database Server

| 지표 | 7차 테스트 | 8차 테스트 | 상태 |
| --- | --- | --- | --- |
| CPU | 30-35% | 30-35% | ➖ 유지 |
| Memory | ~600MB | ~600MB | ➖ 유지 |
| Network | ~300MB | ~300MB | ➖ 유지 |

### Redis Server

| 지표 | 7차 테스트 | 8차 테스트 | 상태 |
| --- | --- | --- | --- |
| CPU | ~1% | ~1% | ➖ 유지 |
| Memory | ~9MB | ~9MB | ➖ 유지 |
| Network | ~25MB | ~25MB | ➖ 유지 |

## 📝 주요 분석 결과

---

### 1. 응답 시간 추가 개선

- 인기 게시글 조회 71% 개선으로 최대 성과
- 로그인 50.7% 추가 개선
- 대댓글 관련 API 34~39% 개선
- 전반적으로 모든 API 응답시간 개선 (게시글 목록 제외)

### 2. 안정적인 처리량 유지

- 전체 API에서 약 3-4% TPS 소폭 감소
- 27 TPS 수준으로 안정적인 조회 성능 유지
- 쓰기 작업도 2.49~13.74 TPS로 안정적 처리

### 3. 시스템 안정성 확보

- Error rate 0.08% 이하로 안정적 유지
- 시스템 리소스 사용량 안정적 유지
- API 응답 시간의 표준편차 감소

### 4. 성능 개선 요인

- JSON 직렬화/역직렬화 최적화로 응답 시간 개선
- 쓰레드 풀 세분화로 리소스 효율적 사용
- DTO 직접 조회 방식 도입으로 쿼리 성능 향상
- 커넥션 풀 최적화로 안정적인 처리량 확보

## 💡 결론

---

이번 8차 테스트에서는 JSON 직렬화 최적화와 쓰레드 풀 세분화를 통해 대부분 API의 응답 시간이 크게 개선되었습니다. 특히 인기 게시글 조회 API가 71% 개선되어 가장 큰 성과를 보였습니다. TPS는 소폭 감소했으나, 전반적으로 안정적인 처리량을 유지하고 있습니다.

---
## 별첨
[API 응답 수치!.csv](summary%C3%D6%C1%BE%21.csv)